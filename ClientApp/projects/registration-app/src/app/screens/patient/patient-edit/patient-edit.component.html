<div id="div_patientDetails_content" >
    <div class="page-header" id="demographicsAndSummaryPageHeader"  style="margin-top: 30px;">
        <h1><small>Patient Details</small></h1>
    </div>
    <div class="panel panel-default" style="border-top-left-radius:13px;border-top-right-radius:13px;" >
        <div class="panel-heading" >
            Patient Details
        </div>
        <form [formGroup]="patientEditForm" (ngSubmit)="updatePatient()">
            <div class="panel-body" >
                <table class="table-hover table table-condensed">
                    <tbody>
                        <tr>
                            <td>Patient UIN</td>
                            <td>
                                <input
                                type="text"
                                id="patientUIN"
                                formControlName="patientUIN"
                                class="form-control">
                                <span
                                    *ngIf="!patientEditForm.get('patientUIN')?.valid && patientEditForm.get('patientUIN')?.touched"
                                    class="help-block">This field is required.
                                </span>
                            </td>
                            <td>Medicare Number</td>
                            <td>
                                <input
                                type="text"
                                id="medicareNo"
                                formControlName="medicareNo"
                                class="form-control">
                                <span
                                    *ngIf="!patientEditForm.get('medicareNo')?.valid && patientEditForm.get('medicareNo')?.touched"
                                    class="help-block">This field is required.
                                </span>
                            </td>
                        </tr>
                        <tr>
                            <td>First Name</td>
                            <td>
                                <input
                                type="text"
                                id="firstName"
                                formControlName="firstName"
                                class="form-control">
                                <span
                                    *ngIf="!patientEditForm.get('firstName')?.valid && patientEditForm.get('firstName')?.touched"
                                    class="help-block">This field is required.
                                </span>
                            </td>
                            <td>Last name</td>
                            <td>
                                <input
                                type="text"
                                id="lastName"
                                formControlName="lastName"
                                class="form-control">
                            <span
                                *ngIf="!patientEditForm.get('lastName')?.valid && patientEditForm.get('lastName')?.touched"
                                class="help-block">This field is required.
                            </span>
                            </td>
                        </tr>
                        <tr>
                            <td>Middle Name</td>
                            <td>
                                <input
                                type="text"
                                id="middleName"
                                formControlName="middleName"
                                class="form-control"></td>
                            <td><label for="sex">Sex</label></td>
                            <td>
                                <select formControlName="sex" (change)="changeSex($event)">
                                    <option *ngFor="let sex of sexes" value="{{sex.sexId}}">{{sex.description}}</option>
                                </select>
                            </td>
                        </tr>
                        <tr>
                            <td>Date of birth<td>
                                <input
                                type="text"
                                id="dob"
                                formControlName="dob"
                                class="form-control">
                            <span
                                *ngIf="!patientEditForm.get('dob')?.valid && patientEditForm.get('dob')?.touched"
                                class="help-block">This field is required.
                            </span>
                            </td>
                            <td>
                               Est DOB
                            </td>
                            <td>
                                <select formControlName="estdob" (change)="changeEDOB($event)">
                                    <option *ngFor="let edob of estimatedDOB" value="{{edob}}">{{edob}}</option>
                                </select>
                            </td>
                        </tr>
                        <tr>
                            <td>Postcode</td>
                            <td><input
                                type="text"
                                id="postcode"
                                formControlName="postcode"
                                class="form-control">
                                <span
                                *ngIf="!patientEditForm.get('postcode')?.valid && patientEditForm.get('postcode')?.touched"
                                class="help-block">This field is required.
                            </span></td>
                            <td>Hospital UR</td>
                            <td><input
                                type="text"
                                id="hospitalUR"
                                formControlName="hospitalUR"
                                class="form-control">
                                <span
                                *ngIf="!patientEditForm.get('hospitalUR')?.valid && patientEditForm.get('hospitalUR')?.touched"
                                class="help-block">This field is required.
                            </span></td>
                        </tr>
                    </tbody>
                </table>
            </div>
        <div class="panel panel-default" style="border-top-left-radius:13px;border-top-right-radius:13px;" >
            <div class="panel-heading" >Treatment Location</div>
            <div class="panel-body" >
                <table class="table-hover table table-condensed">
                    <tbody>
                        <tr>
                            <td>Treatment Location</td>
                            <td>
                                <select formControlName="treatmentLocation" (change)="changeTreatmentLocation($event)">
                                    <option *ngFor="let location of treatmentLocations" value="{{location.treatmentLocationId}}">{{location.location}}</option>
                                </select>
                            </td>
                            <td>Hospital</td>
                            <td>
                                <input
                                type="text"
                                id="hospital"
                                formControlName="hospital"
                                class="form-control">
                            <span
                                *ngIf="!patientEditForm.get('hospital')?.valid && patientEditForm.get('hospital')?.touched"
                                class="help-block">This field is required.
                            </span>
                            </td>
                        </tr>
                        <tr>
                            <td>Consenting Clinician</td>
                            <td>
                                <select formControlName="clinician" (change)="changeClinician($event)">
                                    <option *ngFor="let clinician of clinicians" value="{{ clinician.clinicianId }}">{{clinician.firstName}} {{clinician.lastName}}</option>
                                </select>
                            </td>
                            <td>Institution Type</td>
                            <td>
                                <div class="radio" *ngFor="let institution of institutions">
                                    <label>
                                      <input
                                        type="radio"
                                        formControlName="institution"
                                        [value]="institution">{{ institution }}
                                    </label>
                                  </div>
                            </td>
                        </tr>
                        <tr>
                            <td>Name of study co-ordinator</td>
                            <td>
                                <input
                                type="text"
                                id="studyCoordinator"
                                formControlName="studyCoordinator"
                                class="form-control">
                            </td>
                            <td>Study co-ordinator phone</td>
                            <td>
                                <input
                                type="text"
                                id="studyCoordinatorPhone"
                                formControlName="studyCoordinatorPhone"
                                class="form-control">
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
        <div class="panel panel-default" style="border-top-left-radius:13px;border-top-right-radius:13px;" >
            <div class="panel-heading" >Comments</div>
            <div class="panel-body" >
                <table class="table-hover table table-condensed">
                    <tbody>
                        <tr>
                            <td>
                                <input
                                type="text"
                                id="comments"
                                formControlName="comments"
                                class="form-control">
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
        <button class="btn btn-primary" type="submit" [disabled]="!patientEditForm.valid">Submit</button>
    </form>
    </div>
</div>
